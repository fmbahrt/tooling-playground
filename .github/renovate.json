{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "platform": "github",
  "onboarding": "false",
  "dependencyDashboardTitle": "Renovate Dashboard ðŸ¤–",
  "suppressNotifications": ["prIgnoreNotifications"],
  "recreateClosed": "true",
  "labels": ["renovate"],
  "packageRules": [
	{
		"matchManagers": ["helm-values", "helmv3"],
		"matchPaths": ["cluster-addons/argocd/**"],
		"groupName": ["argocd"],
		"labels": ["cluster addons", "argocd"]
	},
	{
		"matchManagers": ["helm-values", "helmv3", "regex"],
		"matchPaths": ["cluster-addons/cert-manager/**"],
		"groupName": ["cert-manager"],
		"labels": ["cluster addons", "cert-manager"]
	},
	{
		"matchManagers": ["helmv3", "regex"],
		"matchPaths": ["cluster-addons/ingress-nginx/**"],
		"groupName": ["ingress-nginx"],
		"labels": ["cluster addons", "ingress-nginx"]
	},
	{
		"matchDatasources": ["docker"],
		"matchPaths": ["cluster-addons/cert-manager/**"],
		"replacementNameTemplate": "{{{replace 'my\\.registry/' 'quay\\.io/' packageName}}}"
	}
  ],
  "regexManagers": [
	  {
		  "description": "ingress-nginx Regex Manager",
		  "fileMatch": ["(^|/)values\\.yaml$"],
		  "matchStrings": [" *registry: (?<registryUrl>.*?)\n *image: (?<depName>.*?)\n *tag: (?<currentValue>.*)\n"],
		  "datasourceTemplate": "docker"
	  },
	  {
		  "description": "cert-manager Regex Manager",
		  "fileMatch": ["(^|/)values\\.yaml$"],
		  "matchStrings": [" *registry: (?<registryUrl>.*?)\n *repository: (?<depName>.*?)\n *tag: (?<currentValue>.*)\n"],
		  "packageNameTemplate": "quay.io/{{{depName}}}:{{{currentValue}}}",
		  "datasourceTemplate": "docker"
	  }
  ]
}
